<% layout('layout') -%>
<h1><%= title %></h1>
<div class="form-group">
    <label for="customerName">Name</label>
    <input  class="form-control"  type="text" id="customerName" data-bind="value: customer_name">
</div>
<div class="form-group">
    <label for="address">Address</label>
    <input  class="form-control"  type="text" id="address" data-bind="value: address">
</div>
<div class="form-group">
    <label for="phone">Phone</label>
    <input  class="form-control"  type="text" id="phone" data-bind="value: phone">
</div>
<div class="container">
    <input class="btn btn-primary" type="button" value="Save" data-bind="click: save"/>
</div>

<script type="application/javascript">
    $(document).ready(function () {
        ko.applyBindings(custVM());
    });

    var custVM = function () {
        this.customer_name = ko.observable(''),
        this.address = ko.observable(''),
        this.phone = ko.observable(''),
        this.save = function () {
            $.post('add', {name: this.customer_name(), address: this.address(), phone: this.phone()});
        }
        return this;
    };
</script>